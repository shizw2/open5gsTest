@localstatedir@/log/@project_name@/*.log {
    daily
    sharedscripts
    missingok
    compress
    rotate 14
    create 640 @5g_user@ @5g_user@

    postrotate
        for i in nrfd scpd seppd pcrfd hssd ausfd udmd udrd upfd sgwcd sgwud smfd mmed amfd eird; do
            if systemctl --quiet is-active @project_name@-$i; then
                 systemctl reload @project_name@-$i
            fi
            # 检查进程是否通过服务方式启动
            if systemctl is-active --quiet @project_name@-$i; then
                # 如果是服务方式启动，则通过reload发送HUP消息
                systemctl reload @project_name@-$i
            else
                # 如果不是服务方式启动，则直接通过pkill发送HUP消息
                pkill -SIGHUP @project_name@-$i
            fi
        done
        #pkill支持模糊匹配,给所有sps发送HUP消息
        pkill -SIGHUP 5gc-amf-spsd
    endscript
}
